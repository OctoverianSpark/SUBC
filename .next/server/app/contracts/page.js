(()=>{var e={};e.id=246,e.ids=[246],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1249:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=t(5466),a=t(6525),n=t(1861),l=t.n(n),c=t(1546),i={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);t.d(s,i);let d={children:["",{children:["contracts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4349)),"C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\contracts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7006)),"C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,907,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,5958,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,6463,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\contracts\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/contracts/page",pathname:"/contracts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1362:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5613).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3078:(e,s,t)=>{"use strict";t.d(s,{default:()=>y});var r=t(256),a=t(113),n=t(7708),l=t(1017),c=t(362),i=t(5613);let d=(0,i.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o=(0,i.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var m=t(1362);let x=(0,i.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u=t(5529),p=t(1155),h=t(9756),j=t(9144),g=t(981),N=t(504),v=t(1664),f=t(2857),b=t(5965);function y(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(null),[y,w]=(0,a.useState)({}),C=e=>{switch(e){case"ACTIVE":return"bg-primary text-primary-foreground";case"PENDING_SIGNATURE":return"bg-secondary text-secondary-foreground";case"UNDER_REVIEW":return"bg-chart-4 text-white";case"COMPLETED":return"bg-accent text-accent-foreground";case"CANCELLED":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},D=e=>{switch(e){case"ACTIVE":case"COMPLETED":return(0,r.jsx)(d,{className:"h-4 w-4"});case"PENDING_SIGNATURE":return(0,r.jsx)(o,{className:"h-4 w-4"});case"UNDER_REVIEW":return(0,r.jsx)(m.A,{className:"h-4 w-4"});default:return(0,r.jsx)(x,{className:"h-4 w-4"})}},E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),A=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),k=e=>{b.X.deleteContract(e),s(b.X.getContracts())},P=e=>{i(e.id),w({...e})},_=e=>{let{name:s,value:t}=e.target;w(e=>({...e,[s]:t}))},M=()=>{t&&(b.X.updateContract(t,{...y,value:Number(y.value),progress:Number(y.progress)}),s(b.X.getContracts()),i(null),w({}))},R=()=>{i(null),w({})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:E(e.reduce((e,s)=>e+(s.value||0),0))})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Contracts"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>"ACTIVE"===e.status).length})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o,{className:"h-5 w-5 text-secondary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>"UNDER_REVIEW"===e.status).length})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 text-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"This Month"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>new Date(e.startDate).getMonth()===new Date().getMonth()).length})]})]})})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Contract Management"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsx)("div",{children:t===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full font-semibold text-lg",name:"projectName",value:y.projectName||"",onChange:_}),(0,r.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full text-sm",name:"contractNumber",value:y.contractNumber||"",onChange:_}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"client",value:y.client||"",onChange:_}),(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"type",value:y.type||"",onChange:_})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:e.projectName}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.contractNumber}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Client: ",e.client]}),(0,r.jsxs)("span",{children:["Type: ",e.type]})]})]})}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(l.E,{className:`${C(e.status)} flex items-center space-x-1`,children:[D(e.status),(0,r.jsx)("span",{children:A(e.status)})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract Value"}),t===e.id?(0,r.jsx)("input",{className:"border rounded px-2 py-1 w-24",name:"value",type:"number",value:y.value||"",onChange:_}):(0,r.jsx)("p",{className:"text-xl font-bold text-primary",children:E(e.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start Date"}),t===e.id?(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"startDate",type:"date",value:y.startDate||"",onChange:_}):(0,r.jsx)("p",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"End Date"}),t===e.id?(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"endDate",type:"date",value:y.endDate||"",onChange:_}):(0,r.jsx)("p",{className:"font-medium",children:new Date(e.endDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Progress"}),t===e.id?(0,r.jsx)("input",{className:"border rounded px-2 py-1 w-16",name:"progress",type:"number",min:0,max:100,value:y.progress||"",onChange:_}):(0,r.jsxs)("p",{className:"font-medium",children:[e.progress,"%"]})]})]}),e.signedDate&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Signed on"," ",new Date(e.signedDate).toLocaleDateString()]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"View"]}),t===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:M,children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-1"})," Save"]}),(0,r.jsxs)(c.$,{size:"sm",variant:"outline",onClick:R,children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):(0,r.jsxs)(r.Fragment,{children:["COMPLETED"!==e.status&&(0,r.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>P(e),children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,r.jsxs)(c.$,{variant:"destructive",size:"sm",onClick:()=>k(e.id),children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,r.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Download"]}),"UNDER_REVIEW"===e.status&&(0,r.jsx)(c.$,{size:"sm",className:"bg-primary",children:"Approve"})]})]},e.id))})})]})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4349:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5322),a=t(7396),n=t(8951),l=t(560),c=t(7551),i=t(7089),d=t.n(i);async function o(){return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(a.default,{user:{id:"demo-user",email:"demo@construction.com",user_metadata:{first_name:"John",last_name:"Constructor"}}}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Contract Management"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Review, approve, and manage project contracts"})]}),(0,r.jsx)(d(),{href:"/contracts/new",children:(0,r.jsxs)(l.$,{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"New Contract"})]})})]}),(0,r.jsx)(n.default,{})]})]})}},8951:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(4810).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\jean.pr\\\\Downloads\\\\construction-management\\\\components\\\\contracts\\\\contracts-list.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\jean.pr\\Downloads\\construction-management\\components\\contracts\\contracts-list.tsx","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9161:(e,s,t)=>{Promise.resolve().then(t.bind(t,8951)),Promise.resolve().then(t.bind(t,7396)),Promise.resolve().then(t.t.bind(t,7089,23))},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9433:(e,s,t)=>{Promise.resolve().then(t.bind(t,3078)),Promise.resolve().then(t.bind(t,4950)),Promise.resolve().then(t.t.bind(t,5755,23))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[961,755,362,660,784,515,117,241],()=>t(1249));module.exports=r})();