(()=>{var e={};e.id=970,e.ids=[970],e.modules={477:(e,s,t)=>{Promise.resolve().then(t.bind(t,7396)),Promise.resolve().then(t.bind(t,5855)),Promise.resolve().then(t.t.bind(t,7089,23))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1289:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(5322),a=t(7396),n=t(5855),i=t(560),l=t(7551),d=t(7089),o=t.n(d);async function c(){return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(a.default,{user:{id:"demo-user",email:"demo@construction.com",user_metadata:{first_name:"John",last_name:"Constructor"}}}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Project Estimates"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage project cost estimates and proposals"})]}),(0,r.jsx)(o(),{href:"/estimates/new",children:(0,r.jsxs)(i.$,{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"New Estimate"})]})})]}),(0,r.jsx)(n.default,{})]})]})}},3010:(e,s,t)=>{"use strict";t.d(s,{default:()=>f});var r=t(256),a=t(113),n=t(7708),i=t(1017),l=t(362),d=t(5529);let o=(0,t(5613).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var c=t(1155),m=t(9756),x=t(9144),u=t(981),h=t(504),p=t(1664),j=t(2857),g=t(5965);function f(){let[e,s]=(0,a.useState)([]),[t,f]=(0,a.useState)(null),[v,N]=(0,a.useState)({}),b=e=>{switch(e){case"APPROVED":return"bg-primary text-primary-foreground";case"PENDING":return"bg-secondary text-secondary-foreground";case"DRAFT":default:return"bg-muted text-muted-foreground";case"REJECTED":return"bg-destructive text-destructive-foreground"}},y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),w=e=>{g.X.deleteEstimate(e),s(g.X.getEstimates())},C=e=>{f(e.id),N({...e})},A=e=>{let{name:s,value:t}=e.target;N(e=>({...e,[s]:t}))},P=()=>{t&&(g.X.updateEstimate(t,{...v,totalAmount:Number(v.totalAmount)}),s(g.X.getEstimates()),f(null),N({}))},D=()=>{f(null),N({})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.A,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:y(e.reduce((e,s)=>e+(s.totalAmount||0),0))})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o,{className:"h-5 w-5 text-secondary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Estimates"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.length})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"This Month"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>new Date(e.createdDate).getMonth()===new Date().getMonth()).length})]})]})})}),(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-4",children:(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(i.E,{className:"bg-primary text-primary-foreground",children:"Win Rate: 75%"})})})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Recent Estimates"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsx)("div",{children:t===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full font-semibold text-lg",name:"projectName",value:v.projectName||"",onChange:A}),(0,r.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full text-sm",name:"estimateNumber",value:v.estimateNumber||"",onChange:A}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"client",value:v.client||"",onChange:A}),(0,r.jsx)("input",{className:"border rounded px-2 py-1",name:"category",value:v.category||"",onChange:A})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:e.projectName}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.estimateNumber}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Client: ",e.client]}),(0,r.jsxs)("span",{children:["Category: ",e.category]})]})]})}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(i.E,{className:b(e.status),children:e.status})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),t===e.id?(0,r.jsx)("input",{className:"border rounded px-2 py-1 w-24",name:"totalAmount",type:"number",value:v.totalAmount||"",onChange:A}):(0,r.jsx)("p",{className:"text-xl font-bold text-primary",children:y(e.totalAmount)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Created"}),(0,r.jsx)("p",{className:"font-medium",children:new Date(e.createdDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Valid Until"}),(0,r.jsx)("p",{className:"font-medium",children:new Date(e.validUntil).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"View"]}),t===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:P,children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Save"]}),(0,r.jsxs)(l.$,{size:"sm",variant:"outline",onClick:D,children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>C(e),children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,r.jsxs)(l.$,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,r.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Download"]})]})]},e.id))})})]})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=t(5466),a=t(6525),n=t(1861),i=t.n(n),l=t(1546),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o={children:["",{children:["estimates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1289)),"C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\estimates\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7006)),"C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,907,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,5958,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,6463,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\jean.pr\\Downloads\\construction-management\\app\\estimates\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/estimates/page",pathname:"/estimates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5855:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(4810).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\jean.pr\\\\Downloads\\\\construction-management\\\\components\\\\estimates\\\\estimates-list.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\jean.pr\\Downloads\\construction-management\\components\\estimates\\estimates-list.tsx","default")},9037:(e,s,t)=>{Promise.resolve().then(t.bind(t,4950)),Promise.resolve().then(t.bind(t,3010)),Promise.resolve().then(t.t.bind(t,5755,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[961,755,362,660,784,515,117,241],()=>t(3929));module.exports=r})();