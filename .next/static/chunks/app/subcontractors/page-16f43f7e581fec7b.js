(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{894:(e,a,t)=>{"use strict";t.d(a,{Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i});var s=t(4);t(3176);var r=t(8347);function n(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function i(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function l(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...t})}function d(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...t})}},2360:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var s=t(4),r=t(3176),n=t(7960),i=t(894),l=t(8924),d=t(6949),c=t(9221),o=t(3819),u=t(7561);let m=(0,u.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),h=(0,u.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var x=t(9611),v=t(4344),p=t(3771),g=t(2520),y=t(2674),j=t(9713),b=t.n(j),f=t(7493);function N(){let[e,a]=(0,r.useState)([]),[t,u]=(0,r.useState)(null),[j,N]=(0,r.useState)({});(0,r.useEffect)(()=>{a(f.X.getSubcontractors())},[]);let A=e=>{f.X.deleteSubcontractor(e),a(f.X.getSubcontractors())},k=e=>{u(e.id),N({...e})},w=e=>{let{name:a,value:t}=e.target;N(e=>({...e,[a]:t}))},S=()=>{t&&(f.X.updateSubcontractor(t,{...j,rating:Number(j.rating)}),a(f.X.getSubcontractors()),u(null),N({}),(0,n.oR)({title:"Data Saved",description:"Subcontractor changes have been saved."}))},M=()=>{u(null),N({})};return(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Subcontractors"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage your subcontractor network"})]}),(0,s.jsx)(b(),{href:"/subcontractors/new",children:(0,s.jsxs)(l.$,{className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add Subcontractor"]})})]}),(0,s.jsx)("div",{className:"grid gap-6",children:e.map(e=>{var a;return(0,s.jsxs)(i.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("div",{children:t===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.ZB,{className:"text-xl",children:(0,s.jsx)("input",{className:"border rounded px-2 py-1 w-full",name:"name",value:j.name||"",onChange:w})}),(0,s.jsx)(d.E,{variant:"outline",className:"mt-2",children:(0,s.jsx)("input",{className:"border rounded px-2 py-1",name:"company",value:j.company||"",onChange:w})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.ZB,{className:"text-xl",children:e.name}),(0,s.jsx)(d.E,{variant:"outline",className:"mt-2",children:e.company})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.E,{variant:e.licenseNumber?"default":"destructive",children:["License: ",e.licenseNumber||"N/A"]}),(0,s.jsxs)(d.E,{variant:e.insuranceExpiry?"default":"secondary",children:["Insurance: ",e.insuranceExpiry||"N/A"]})]})]})}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2 text-slate-600"}),t===e.id?(0,s.jsx)("input",{className:"border rounded px-2 py-1",name:"email",value:j.email||"",onChange:w}):(0,s.jsx)("span",{className:"font-medium",children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m,{className:"h-4 w-4 mr-2 text-slate-600"}),t===e.id?(0,s.jsx)("input",{className:"border rounded px-2 py-1",name:"phone",value:j.phone||"",onChange:w}):(0,s.jsx)("span",{children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h,{className:"h-4 w-4 mr-2 text-slate-600"}),t===e.id?(0,s.jsx)("input",{className:"border rounded px-2 py-1",name:"specialties",value:j.specialties?j.specialties.join(", "):"",onChange:e=>N(a=>({...a,specialties:e.target.value.split(",").map(e=>e.trim())}))}):(0,s.jsx)("span",{children:null===(a=e.specialties)||void 0===a?void 0:a.join(", ")})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2 text-slate-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Rating"}),t===e.id?(0,s.jsx)("input",{className:"border rounded px-2 py-1 w-16",name:"rating",type:"number",min:0,max:5,step:.1,value:j.rating||"",onChange:w}):(0,s.jsx)("div",{className:"font-semibold",children:e.rating})]})]})]}),(0,s.jsx)("div",{className:"flex gap-2 mt-4",children:t===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:S,children:[(0,s.jsx)(v.A,{className:"h-4 w-4 mr-1"})," Save"]}),(0,s.jsxs)(l.$,{size:"sm",variant:"outline",onClick:M,children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>k(e),children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,s.jsxs)(l.$,{size:"sm",variant:"destructive",onClick:()=>A(e.id),children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})})]})]},e.id)})})]})}},2520:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2674:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3771:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3796:(e,a,t)=>{Promise.resolve().then(t.bind(t,2360))},3819:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4344:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4552:(e,a,t)=>{"use strict";t.d(a,{F:()=>i});var s=t(5894);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,i=(e,a)=>t=>{var s;if((null==a?void 0:a.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=a,d=Object.keys(i).map(e=>{let a=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===a)return null;let n=r(a)||r(s);return i[e][n]}),c=t&&Object.entries(t).reduce((e,a)=>{let[t,s]=a;return void 0===s||(e[t]=s),e},{});return n(e,d,null==a?void 0:null===(s=a.compoundVariants)||void 0===s?void 0:s.reduce((e,a)=>{let{class:t,className:s,...r}=a;return Object.entries(r).every(e=>{let[a,t]=e;return Array.isArray(t)?t.includes({...l,...c}[a]):({...l,...c})[a]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},6949:(e,a,t)=>{"use strict";t.d(a,{E:()=>d});var s=t(4);t(3176);var r=t(6369),n=t(4552),i=t(8347);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:t,asChild:n=!1,...d}=e,c=n?r.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:t}),a),...d})}},7960:(e,a,t)=>{"use strict";t.d(a,{oR:()=>o}),t(3176);let s=0,r=new Map,n=e=>{if(r.has(e))return;let a=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function o(e){let{...a}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}},9221:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9611:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7561).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[776,713,130,476,571,358],()=>a(3796)),_N_E=e.O()}]);