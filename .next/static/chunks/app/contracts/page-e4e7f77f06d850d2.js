(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{5715:(e,s,t)=>{"use strict";t.d(s,{default:()=>y});var a=t(4),r=t(3176),n=t(894),l=t(6949),c=t(8924),d=t(7561);let i=(0,d.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),m=(0,d.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var x=t(9306);let o=(0,d.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u=t(8587),h=t(9611),p=t(9954),j=t(4344),N=t(3771),g=t(2520),v=t(2674),f=t(5413),b=t(7493);function y(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)(null),[y,w]=(0,r.useState)({});(0,r.useEffect)(()=>{s(b.X.getContracts())},[]);let C=e=>{switch(e){case"ACTIVE":return"bg-primary text-primary-foreground";case"PENDING_SIGNATURE":return"bg-secondary text-secondary-foreground";case"UNDER_REVIEW":return"bg-chart-4 text-white";case"COMPLETED":return"bg-accent text-accent-foreground";case"CANCELLED":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},D=e=>{switch(e){case"ACTIVE":case"COMPLETED":return(0,a.jsx)(i,{className:"h-4 w-4"});case"PENDING_SIGNATURE":return(0,a.jsx)(m,{className:"h-4 w-4"});case"UNDER_REVIEW":return(0,a.jsx)(x.A,{className:"h-4 w-4"});default:return(0,a.jsx)(o,{className:"h-4 w-4"})}},E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),A=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),k=e=>{b.X.deleteContract(e),s(b.X.getContracts())},M=e=>{d(e.id),w({...e})},S=e=>{let{name:s,value:t}=e.target;w(e=>({...e,[s]:t}))},T=()=>{t&&(b.X.updateContract(t,{...y,value:Number(y.value),progress:Number(y.progress)}),s(b.X.getContracts()),d(null),w({}))},_=()=>{d(null),w({})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:E(e.reduce((e,s)=>e+(s.value||0),0))})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Contracts"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>"ACTIVE"===e.status).length})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-secondary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>"UNDER_REVIEW"===e.status).length})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"This Month"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>new Date(e.startDate).getMonth()===new Date().getMonth()).length})]})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Contract Management"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"border border-border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsx)("div",{children:t===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full font-semibold text-lg",name:"projectName",value:y.projectName||"",onChange:S}),(0,a.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full text-sm",name:"contractNumber",value:y.contractNumber||"",onChange:S}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"client",value:y.client||"",onChange:S}),(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"type",value:y.type||"",onChange:S})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:e.projectName}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.contractNumber}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Client: ",e.client]}),(0,a.jsxs)("span",{children:["Type: ",e.type]})]})]})}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)(l.E,{className:"".concat(C(e.status)," flex items-center space-x-1"),children:[D(e.status),(0,a.jsx)("span",{children:A(e.status)})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract Value"}),t===e.id?(0,a.jsx)("input",{className:"border rounded px-2 py-1 w-24",name:"value",type:"number",value:y.value||"",onChange:S}):(0,a.jsx)("p",{className:"text-xl font-bold text-primary",children:E(e.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start Date"}),t===e.id?(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"startDate",type:"date",value:y.startDate||"",onChange:S}):(0,a.jsx)("p",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"End Date"}),t===e.id?(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"endDate",type:"date",value:y.endDate||"",onChange:S}):(0,a.jsx)("p",{className:"font-medium",children:new Date(e.endDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Progress"}),t===e.id?(0,a.jsx)("input",{className:"border rounded px-2 py-1 w-16",name:"progress",type:"number",min:0,max:100,value:y.progress||"",onChange:S}):(0,a.jsxs)("p",{className:"font-medium",children:[e.progress,"%"]})]})]}),e.signedDate&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Signed on"," ",new Date(e.signedDate).toLocaleDateString()]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"View"]}),t===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:T,children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-1"})," Save"]}),(0,a.jsxs)(c.$,{size:"sm",variant:"outline",onClick:_,children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):(0,a.jsxs)(a.Fragment,{children:["COMPLETED"!==e.status&&(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>M(e),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(c.$,{variant:"destructive",size:"sm",onClick:()=>k(e.id),children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Download"]}),"UNDER_REVIEW"===e.status&&(0,a.jsx)(c.$,{size:"sm",className:"bg-primary",children:"Approve"})]})]},e.id))})})]})]})}},6055:(e,s,t)=>{Promise.resolve().then(t.bind(t,5715)),Promise.resolve().then(t.bind(t,639)),Promise.resolve().then(t.t.bind(t,9713,23))},9306:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7561).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[776,713,453,384,130,824,476,571,358],()=>s(6055)),_N_E=e.O()}]);