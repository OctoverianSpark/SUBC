(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{4235:(e,s,t)=>{Promise.resolve().then(t.bind(t,639)),Promise.resolve().then(t.bind(t,9343)),Promise.resolve().then(t.t.bind(t,9713,23))},9343:(e,s,t)=>{"use strict";t.d(s,{default:()=>g});var a=t(4),r=t(3176),l=t(894),n=t(6949),i=t(8924),d=t(8587);let c=(0,t(7561).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var m=t(9611),x=t(9954),o=t(4344),h=t(3771),u=t(2520),j=t(2674),p=t(5413),N=t(7493);function g(){let[e,s]=(0,r.useState)([]),[t,g]=(0,r.useState)(null),[v,f]=(0,r.useState)({});(0,r.useEffect)(()=>{s(N.X.getEstimates())},[]);let b=e=>{switch(e){case"APPROVED":return"bg-primary text-primary-foreground";case"PENDING":return"bg-secondary text-secondary-foreground";case"DRAFT":default:return"bg-muted text-muted-foreground";case"REJECTED":return"bg-destructive text-destructive-foreground"}},y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),w=e=>{N.X.deleteEstimate(e),s(N.X.getEstimates())},A=e=>{g(e.id),f({...e})},E=e=>{let{name:s,value:t}=e.target;f(e=>({...e,[s]:t}))},k=()=>{t&&(N.X.updateEstimate(t,{...v,totalAmount:Number(v.totalAmount)}),s(N.X.getEstimates()),g(null),f({}))},D=()=>{g(null),f({})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:y(e.reduce((e,s)=>e+(s.totalAmount||0),0))})]})]})})}),(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c,{className:"h-5 w-5 text-secondary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Estimates"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.length})]})]})})}),(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"This Month"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.filter(e=>new Date(e.createdDate).getMonth()===new Date().getMonth()).length})]})]})})}),(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n.E,{className:"bg-primary text-primary-foreground",children:"Win Rate: 75%"})})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Recent Estimates"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"border border-border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsx)("div",{children:t===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full font-semibold text-lg",name:"projectName",value:v.projectName||"",onChange:E}),(0,a.jsx)("input",{className:"border rounded px-2 py-1 mb-1 w-full text-sm",name:"estimateNumber",value:v.estimateNumber||"",onChange:E}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"client",value:v.client||"",onChange:E}),(0,a.jsx)("input",{className:"border rounded px-2 py-1",name:"category",value:v.category||"",onChange:E})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:e.projectName}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.estimateNumber}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Client: ",e.client]}),(0,a.jsxs)("span",{children:["Category: ",e.category]})]})]})}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n.E,{className:b(e.status),children:e.status})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),t===e.id?(0,a.jsx)("input",{className:"border rounded px-2 py-1 w-24",name:"totalAmount",type:"number",value:v.totalAmount||"",onChange:E}):(0,a.jsx)("p",{className:"text-xl font-bold text-primary",children:y(e.totalAmount)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Created"}),(0,a.jsx)("p",{className:"font-medium",children:new Date(e.createdDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Valid Until"}),(0,a.jsx)("p",{className:"font-medium",children:new Date(e.validUntil).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"View"]}),t===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:k,children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-1"})," Save"]}),(0,a.jsxs)(i.$,{size:"sm",variant:"outline",onClick:D,children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>A(e),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(i.$,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Download"]})]})]},e.id))})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[776,713,453,384,130,824,476,571,358],()=>s(4235)),_N_E=e.O()}]);